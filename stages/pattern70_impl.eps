import stages.ep_commonlib as cl;

var iflag = 0;
var t = 23;
var sx, sy = 1, 1;
const dt = 24;

function pattern70() {
    if (iflag == 0) {
        CreateUnit(25, "Recaller", "arbiter", P8);
        iflag = 1;
    }

    t++;
    if(t == dt - 1) {
        for(var i = 0 ; i < 3 ; i++) {
            for(var j = 0 ; j < 3 ; j++) {
                const x, y = sx + i * 3, sy + j * 3;
                cl.move_mvloc(x, y);
                CreateUnit(1, "Small Slow Heavy Missile", "mvloc", P7);
            }
        }
        sx++;
        if(sx == 4) {
            sx = 1;
            sy++;
            if(sy == 4) sy = 1;
        }
    }
    else if(t == dt) {
        t = 0;
        for(var i = 0 ; i < 3 ; i++) {
            for(var j = 0 ; j < 3 ; j++) {
                const x, y = sx + i * 3, sy + j * 3;
                cl.move_mvloc(x, y);
                RunAIScriptAt('Recall Here', 'mvloc');
            }
        }
    }
}